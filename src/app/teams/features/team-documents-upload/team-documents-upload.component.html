<div class="docs-page">
  <div class="docs-card">

    <!-- HEADER -->
    <header class="docs-header">
      <div class="header-left">
        <h1>Client Documents</h1>
        <p>Upload and manage documents for this client.</p>
      </div>

      <div class="header-right">
        <span class="pill user">ğŸ‘¤ {{ clientId  }}</span>
        <span class="pill count" *ngIf="documents.length">
          ğŸ“ {{ documents.length }} documents
        </span>
      </div>
    </header>

    <!-- MAIN -->
    <div class="docs-layout">

      <!-- UPLOAD PANEL -->
      <section class="upload-panel">
        <h2>Upload documents</h2>

        <label>Document Type</label>
        <select [(ngModel)]="documentType">
          <option value="">Select document type</option>
          <option *ngFor="let t of documentTypes" [value]="t">
            {{ t }}
          </option>
        </select>

        <span class="required">Required</span>

        <!-- DROP ZONE -->
        <div
          class="drop-zone"
          [class.active]="isDragOver"
          (dragover)="onDragOver($event)"
          (dragleave)="onDragLeave($event)"
          (drop)="onDrop($event)"
        >
          <div class="icon">â˜ï¸</div>

          <p><strong>Drag & drop</strong> files here</p>
          <span class="or">or</span>

          <button type="button" (click)="fileInput.click()">
            Choose files
          </button>

          <small>PDF, JPG, PNG, DOCX up to 10MB each</small>

          <input
            #fileInput
            type="file"
            multiple
            (change)="onFilesSelected($event)"
          />
        </div>

        <!-- SELECTED FILES -->
        <div class="files" *ngIf="selectedFiles.length">
          <div class="file" *ngFor="let f of selectedFiles; let i = index">
            <span>{{ f.name }}</span>
            <button (click)="removeSelected(i)">âœ•</button>
          </div>
        </div>

        <!-- UPLOAD BUTTON -->
        <button
          class="upload-btn"
          [disabled]="uploading || !documentType || !selectedFiles.length"
          (click)="upload()"
        >
          â¬† Upload documents
        </button>
      </section>

      <!-- EXISTING DOCUMENTS -->
      <section class="list-panel">
        <div class="list-header">
          <h2>Existing documents</h2>
          <input
            type="text"
            placeholder="Search"
            [(ngModel)]="search"
            (input)="applyFilter()"
          />
        </div>

        <!-- EMPTY STATE -->
        <div class="empty" *ngIf="!filteredDocuments.length">
          <div class="icon">ğŸ“</div>
          <p>No documents uploaded yet.</p>
          <span>Use the panel on the left to upload files for this client.</span>
        </div>

        <!-- TABLE -->
        <table *ngIf="filteredDocuments.length">
          <tr *ngFor="let d of filteredDocuments">
            <td>{{ d.fileName }}</td>
            <td>{{ d.documentType }}</td>
            <td>{{ d.uploadedAt | date:'short' }}</td>
            <td class="actions">
              <button (click)="download(d)">â¬‡</button>
              <button (click)="delete(d)">ğŸ—‘</button>
            </td>
          </tr>
        </table>
      </section>

    </div>
  </div>
</div>
